# Analysis of Predictive Modeling Code for Fitness App Data

This code demonstrates a complete workflow for building a decision tree model to predict payment behavior in a fitness app. Here's a detailed breakdown:

## 1. Data Import and Exploration

```r
data <- read.csv("D:/Academics/Third Semester/Predictive Analytics Using R/Data/fitnessAppLog.csv")
View(data)
summary(data)
```

- **Import**: Reads the fitness app log data from a CSV file
- **View**: Opens a spreadsheet-like view of the data for visual inspection
- **Summary**: Provides descriptive statistics for all variables (min, max, mean, quartiles for numeric variables; counts for factors)

## 2. Data Splitting

```r
split <- sample(2, nrow(data), replace = TRUE, prob = c(0.8,0.2))
train <- data[split==1,]
test <- data[split==2,]

dim(data)
dim(test)
dim(train)
```

- **Split**: Randomly divides data into 80% training and 20% test sets
  - `sample(2,...)` generates 1s and 2s with 80%/20% probability
  - `replace=TRUE` allows the same value to be selected multiple times
- **Dimensions**: Checks the size of each dataset to verify proper splitting

## 3. Decision Tree Model Building

```r
library(rpart)
library(rpart.plot)

tree_model <- rpart(PayOrNot~., data= train, method="class")
rpart.plot(tree_model)
```

- **Libraries**: 
  - `rpart` for recursive partitioning (decision trees)
  - `rpart.plot` for visualization
- **Model**: 
  - Predicts `PayOrNot` (binary outcome) using all other variables (`~.`)
  - `method="class"` specifies classification (not regression)
- **Visualization**: Creates an interpretable tree diagram showing decision rules

## 4. Prediction on Test Set

```r
prediction <- predict(tree_model, test, type = "class")
prediction

test$predictions <- prediction
View(test)
```

- **Prediction**: Applies the trained model to the test set
  - `type="class"` returns class predictions (not probabilities)
- **Storage**: Adds predictions as a new column in the test data for comparison

## 5. Model Evaluation

```r
cf_matrix <- table(test$PayOrNot, test$predictions)
cf_matrix

acc <- sum(diag(cf_matrix)/sum(cf_matrix))
acc*100
```

- **Confusion Matrix**: 
  - Cross-tabulates actual vs predicted classes
  - Shows true/false positives and negatives
- **Accuracy Calculation**:
  - `diag(cf_matrix)` gets correct predictions
  - Divides by total predictions for accuracy rate
  - Multiplies by 100 for percentage

## Key Aspects of This Analysis:

1. **Predictive Task**: Binary classification (whether users will pay or not)
2. **Algorithm**: Decision tree (interpretable, handles mixed data types well)
3. **Evaluation**: Simple accuracy metric (may want additional metrics like precision/recall for imbalanced data)
4. **Workflow**: Follows standard ML pipeline (data → split → train → predict → evaluate)

## Potential Improvements:

1. Add feature importance analysis
2. Include additional evaluation metrics (precision, recall, F1)
3. Consider handling missing values if present
4. Try parameter tuning for the decision tree
5. Add cross-validation for more reliable performance estimates

This code provides a solid foundation for binary classification problems using decision trees in R.
