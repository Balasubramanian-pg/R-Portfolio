# **Creating 3D Pie Charts in R with plotrix**

This code demonstrates how to create an enhanced 3D pie chart using the `plotrix` package. Below is a complete explanation and improved version of your visualization.

## **Complete 3D Pie Chart Code**

```r
# Install and load required package
if(!require(plotrix)) {
  install.packages("plotrix")
  library(plotrix)
}

# Sample data (using your variables)
x <- c(35, 49, 213, 19, 26)  # Values for each slice
label <- c("money", "food", "ration", "sun", "moon")  # Category names
colour <- c("red", "blue", "yellow", "green", "pink")  # Slice colors
pie_percentage <- round(x*100/sum(x), 1)  # Percentages with 1 decimal

# Create 3D pie chart with enhancements
pie3D(x, 
      labels = paste0(label, "\n", pie_percentage, "%"),  # Combined labels
      main = "Population Distribution",  # Chart title
      explode = 0.2,  # Separation between slices
      col = colour,   # Custom colors
      labelcex = 1.2, # Label size
      theta = 1,      # Viewing angle (1 = standard)
      start = 1.5,    # Starting angle (1.5 = 12 o'clock)
      height = 0.2,   # 3D height
      border = "white" # Slice border color
     )

# Add improved legend
legend("topleft", 
       legend = label,
       fill = colour,
       title = "Categories",
       cex = 1,       # Text size
       box.lty = 0,   # No legend box
       bg = "transparent" # Transparent background
      )
```

## **Key Enhancements**

1. **Better Labels**:
   - Combined category names with percentages
   - Added newline (`\n`) for cleaner presentation

2. **Chart Customization**:
   - Added white borders for better slice separation
   - Controlled viewing angle and starting position
   - Adjusted 3D height for optimal appearance

3. **Improved Legend**:
   - Added a title
   - Removed the legend box for cleaner look
   - Made background transparent

4. **Percentage Calculation**:
   - Now shows 1 decimal place for more precision

## **Important Parameters Explained**

| Parameter | Description | Recommended Value |
|-----------|-------------|-------------------|
| `explode` | Separation between slices | 0.1-0.3 |
| `theta` | Viewing angle | 0.5-1.5 |
| `start` | First slice position | 1.5 (12 o'clock) |
| `height` | 3D thickness | 0.1-0.3 |
| `labelcex` | Label size | 0.8-1.2 |

## **Best Practices for 3D Pie Charts**

1. **Limit Categories**: Use â‰¤6 slices for readability
2. **Color Selection**: Use distinct, non-clashing colors
3. **Label Clearly**: Always include values/percentages
4. **Order Slices**: Place largest slice at top (12 o'clock)
5. **Consider Alternatives**: For complex data, use:
   ```r
   # Bar chart alternative
   barplot(x, names.arg = label, col = colour)
   ```

## **Common Issues Fixed**

1. Your original code didn't include colors in the `pie3D()` call
2. Labels only showed percentages without categories
3. Legend could overlap with chart elements

This enhanced version creates a more professional and informative 3D visualization while maintaining all the original functionality.
